# Copyright 2021 PingCAP, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Importer Configuration.

[ddl]
table-sql = "CREATE TABLE `zto_ssmx_bill_detail` ( `bill_code` varchar(64) NOT NULL comment '[[incremental=1;repeats=1;probability=100]]', `order_code` varchar(64) NOT NULL DEFAULT '' COMMENT '主订单号', `order_create_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '下单时间', `earliest_order_create_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '最早下单时间', `latest_order_create_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '最晚下单时间', `assign_site_code` varchar(64) NOT NULL DEFAULT '' COMMENT '分配网点code', `forecast_disp_site_code` varchar(64) NOT NULL DEFAULT '' COMMENT '预测派件网点code', `forecast_rec_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '预测揽收网点id', `forecast_disp_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '预测派件网点id', `three_code` varchar(100) DEFAULT '' COMMENT '三段码', `send_name` varchar(100) NOT NULL DEFAULT '' COMMENT '发件人姓名', `receive_name` varchar(100) NOT NULL DEFAULT '' COMMENT '收件人姓名', `send_mobile` varchar(64) NOT NULL DEFAULT '' COMMENT '发件人手机号', `receive_mobile` varchar(64) NOT NULL DEFAULT '' COMMENT '收件人手机号', `send_address` varchar(1000) NOT NULL DEFAULT '' COMMENT '发件地址', `receive_address` varchar(1000) NOT NULL DEFAULT '' COMMENT '收件地址', `partner_id` varchar(100) NOT NULL DEFAULT '' COMMENT '最新partner_id', `send_prov_id` varchar(20) NOT NULL DEFAULT '' COMMENT '发件省份id', `receive_prov_id` varchar(20) NOT NULL DEFAULT '' COMMENT '收件省份id', `send_city_id` varchar(20) NOT NULL DEFAULT '' COMMENT '发件城市id', `receiv_city_id` varchar(20) DEFAULT '' COMMENT '收件城市id', `send_county_id` varchar(50) NOT NULL DEFAULT '' COMMENT '发件区id', `receiv_county_id` varchar(50) NOT NULL DEFAULT '' COMMENT '收件区id', `channel_code` int(11) NOT NULL DEFAULT '0' COMMENT '渠道code', `forecast_first_center_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '预测首中心id', `forecast_last_center_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '预测末中心id', `deadline_rec_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '截止揽收时间', `forecast_first_center_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '预测首中心到件时间', `forecast_last_center_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '预测末中心到件时间', `is_xinglian` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否星联件', `earliest_rec_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '最早揽收网点id', `earliest_rec_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '最早揽收时间', `rec_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '最后揽收扫描网点', `rec_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '最晚揽收时间', `rec_weight` decimal(8,4) NOT NULL DEFAULT '0.0000' COMMENT '揽收重量', `rec_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '揽收网点发件时间', `max_rec_weight` decimal(8,4) NOT NULL DEFAULT '0.0000' COMMENT '最大揽收重量', `rec_emp_code` varchar(64) NOT NULL DEFAULT '' COMMENT '揽收业务员code', `rec_emp_name` varchar(64) NOT NULL DEFAULT '' COMMENT '揽收业务员名称', `rec_next_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '揽收下一站扫描网点', `rec_next_site_come_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '揽收下一站扫描到件时间', `rec_next_site_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '揽收下一站扫描发件时间', `first_center_transfer_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '首中转部id', `first_center_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '首中心id', `first_center_come_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '首中心到件时间', `first_center_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '首中心发件时间', `first_center_send_car_code` varchar(100) NOT NULL DEFAULT '' COMMENT '首中心发车车牌号', `first_center_car_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '首中心发车扫描时间', `last_center_transfer_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '末中转部id', `last_center_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '末中心id', `last_center_come_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心到件时间', `last_center_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心发件时间', `max_center_weight` decimal(8,4) NOT NULL DEFAULT '0.0000' COMMENT '最大中心重量', `disp_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '派件网点id', `disp_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '派件时间', `disp_emp_code` varchar(64) NOT NULL DEFAULT '' COMMENT '派件扫描业务员code', `disp_emp_name` varchar(100) NOT NULL DEFAULT '' COMMENT '派件扫描业务员名称', `dpm_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '第三方(快递柜)网点id', `dpm_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '三方派件进站时间', `com_code` varchar(100) NOT NULL DEFAULT '' COMMENT '快递柜第三方代理商code', `is_local_dpm` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否自营三方派件进站', `sign_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '签收网点id', `sign_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '签收时间', `is_return` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否退改件', `is_problem` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否问题件', `is_blocker` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否拦截件', `bill_state` int(11) NOT NULL DEFAULT '0' COMMENT '运单状态 1:已揽收 12:揽收发件 21:首中心到件 22:首中心发件 23:首中心发车 31:末中心到件 32:末中心发件 4:已派件 44:派件进站 5:已签收', `lasted_scan_type` varchar(64) NOT NULL DEFAULT '' COMMENT '最新扫描类型', `lasted_scan_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '最新扫描网点id', `lasted_scan_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '最新扫描时间', `pre_scan_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '上一站扫描网点id', `pre_scan_site_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '上一站扫描时间', `pre_scan_site_type` varchar(64) NOT NULL DEFAULT '' COMMENT '上一站扫描类型', `is_airway` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否航空件', `first_scan_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '首次扫描扫描网点', `first_scan_type` varchar(20) NOT NULL DEFAULT '' COMMENT '首次扫描类型', `first_scan_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '首次扫描时间', `is_guo_guo` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否菜鸟裹裹', `elec_bill_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '电子面单使用网点', `cust_code` varchar(100) NOT NULL DEFAULT '' COMMENT '客户code', `cust_name` varchar(100) NOT NULL DEFAULT '' COMMENT '客户名称', `v1_forecast_sign_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT 'v1模型-预计签收时间', `v2_forecast_sign_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT 'v2模型-预计签收时间', `forecast_disp_emp_code` varchar(64) NOT NULL DEFAULT '' COMMENT '预测派件业务员code', `forecast_disp_emp_name` varchar(100) NOT NULL DEFAULT '' COMMENT '预测派件业务员名称', `elec_create_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '电子面单发放时间', `is_disp_intercept` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否派件拦截件', `intercept_status` int(11) NOT NULL DEFAULT '0' COMMENT '拦截状态 (-1异常0初始状态1.待确定2.拦截中3拦截成功4拦截失败5取消拦截)', `actual_intercept_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '时间拦截时间', `actual_intercept_site_code` varchar(64) NOT NULL DEFAULT '' COMMENT '实际拦截网点code', `actual_intercept_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '时间拦截网点id', `intercept_emp_code` varchar(64) NOT NULL DEFAULT '' COMMENT '拦截业务员code', `intercept_emp_name` varchar(64) NOT NULL DEFAULT '' COMMENT '拦截业务员名称', `intercept_site_code` varchar(64) NOT NULL DEFAULT '' COMMENT '发起拦截网点code', `intercept_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '发起拦截网点id', `forecast_rec_site_league_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '预测揽收一级网点', `forecast_disp_site_league_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '预测派件一级网点', `earliest_rec_site_league_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '最早揽收一级网点', `rec_site_league_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '揽收一级网点', `disp_site_league_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '派件一级网点', `sign_site_league_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '签收一级网点', `car_code` varchar(100) NOT NULL DEFAULT '' COMMENT '末中心到车车牌号', `district_night_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '首中心晚清时间', `suggest_send_car_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '建议发车时间', `forecast_depart_standard_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '预计最晚发车时间', `first_center_gps_start_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '首中心gps发车时间', `forecast_pull_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '预测拉件网点', `forecast_pull_site_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '预计拉件时间', `forecast_pull_site_rec_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '揽收时预计拉件时间', `second_center_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '第二个中心id', `second_center_come_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '第二个中心到件时间', `second_center_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '第二个中心发件时间', `is_time` int(11) NOT NULL DEFAULT '0' COMMENT '是否时效件', `next_site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '中心下一站扫描网点id', `re_order_create_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '小蜜蜂时效下单时间', `time_channal_code` int(11) NOT NULL DEFAULT '0' COMMENT '小蜜蜂时效渠道', `forecast_rec_last_center_come_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '揽收时预测到末中心时间', `site_route_last_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '网点交件最晚班次时间', `is_university` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否大学件', `rec_kpi_transfer_center_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '揽收网点kpi考核中心transfer id', `rec_kpi_center_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '揽收网点kpi考核中心id', `biz_first_center_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '逻辑判断首中心center id,若到首中心去实际首中心 否则是预测首中心', `biz_last_center_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '逻辑判断末中心cetnerid,若到首中心去实际末中心否则是预测末中心', `biz_first_center_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '逻辑判断首中心首中心到件时间,若到首中心去实际首中心否则是预测首中心', `biz_last_center_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '逻辑判断末中心时间,若到首中心去实际末中心否则是预测末中心', `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间', `end_time_rec_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '揽收截止时间', `disp_no` int(11) NOT NULL DEFAULT '0' COMMENT '理论派次', `disp_start_time` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '理论派次开始时间', `disp_end_time` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '理论派次截止时间', `biz_sign_site_id` bigint(64) NOT NULL DEFAULT '0' COMMENT '逻辑签收网点', `biz_sign_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '逻辑签收时间', `return_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '退改时间', `earliest_rec_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '最早揽收网点发件时间', `first_center_car_batch_number` varchar(64) NOT NULL DEFAULT '' COMMENT '首中心车辆出港批次号', `first_center_car_sign_code` varchar(64) NOT NULL DEFAULT '' COMMENT '首中心车辆出港车签号', `first_center_out_weight_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '首中心出港称重时间', `first_center_bag_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '首中心发包扫描时间', `biz_first_center_latest_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '首中心车(gps、地磅、车签扫描)包件最晚发出时间', `last_center_come_bag_code` varchar(64) NOT NULL DEFAULT '' COMMENT '末中心到包包号', `last_center_car_batch_number` varchar(64) NOT NULL DEFAULT '' COMMENT '末中心车辆到达批次号', `last_center_car_sign_code` varchar(64) NOT NULL DEFAULT '' COMMENT '末中心车辆出港车签号', `last_center_gps_end_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心gps到达时间', `last_center_car_come_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心车签扫描到达时间', `last_center_insert_weight_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心进港地磅时间', `last_center_bag_come_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心到包扫描时间(以最新发出的包为主)', `biz_last_center_earliest_come_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心车(gps、地磅、车签扫描)包件最早时间(车辆以最新发出的车为主)', `last_center_inward_type` varchar(10) NOT NULL DEFAULT '' COMMENT '末中心进港类型 A:gps B:地磅 C:卸车 D:到包到件', `last_center_opr_type_code` varchar(10) NOT NULL DEFAULT '' COMMENT '末中心包件操作类型 101:拆包 102:单件&整包', `is_last_center_send_auto_opr` tinyint(4) NOT NULL DEFAULT '0' COMMENT '末中心发出是否自动分拣', `last_center_op_duration` decimal(8,4) NOT NULL DEFAULT '0' COMMENT '末中心操作时长(小时)', `last_center_auto_op_pre_time` decimal(8,4) NOT NULL DEFAULT '0' COMMENT '末中心自动分拣提前时间(分钟)', `forecast_last_center_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心理论发出时间', `forecast_disp_sign_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '中心理论派次应签时间', `actual_disp_no` int(10) NOT NULL DEFAULT '0' COMMENT '实际派次', `actual_disp_start_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '中心实际派次开始时间', `actual_disp_end_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '中心实际派次截止时间', `actual_disp_sign_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '中心实际派次应签时间', `forecast_stat_day` varchar(24) NOT NULL DEFAULT '' COMMENT '理论派次统计日期', `actual_stat_day` varchar(24) NOT NULL DEFAULT '' COMMENT '实际派次统计日期', `biz_last_center_disp_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心包件最晚发出时间', `last_center_bill_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心票件最晚发出时间', `last_center_bag_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心包最晚发出时间', `last_center_car_send_date` datetime NOT NULL DEFAULT '1999-01-01 00:00:00' COMMENT '末中心车签扫描最晚发出时间', PRIMARY KEY (`bill_code`) , KEY `IDX_SSMX_BILL_DETAIL_I002` (`last_center_id`,`last_center_come_date`,`last_center_send_date`), KEY `IDX_SSMX_BILL_DETAIL_I003` (`forecast_last_center_id`,`forecast_first_center_id`,`rec_site_id`,`order_create_date`), KEY `IDX_SSMX_BILL_DETAIL_I004` (`forecast_last_center_id`,`first_center_id`,`first_center_send_date`,`order_create_date`), KEY `IDX_SSMX_BILL_DETAIL_H007` (`forecast_rec_site_id`,`earliest_rec_site_id`,`order_create_date`), KEY `IDX_SSMX_BILL_DETAIL_H008` (`forecast_rec_site_id`,`forecast_first_center_id`,`earliest_rec_date`), KEY `IDX_SSMX_BILL_DETAIL_H010` (`earliest_rec_site_id`,`earliest_rec_date`), KEY `IDX_SSMX_BILL_DETAIL_H012` (`cust_code`,`re_order_create_date`), KEY `IDX_SSMX_BILL_DETAIL_H013` (`forecast_rec_site_id`,`re_order_create_date`), KEY `IDX_SSMX_BILL_DETAIL_H014` (`earliest_rec_site_id`,`re_order_create_date`), KEY `IDX_SSMX_BILL_DETAIL_H011` (`forecast_rec_site_id`,`earliest_rec_site_id`,`re_order_create_date`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"

#index-sql = "create unique index idx on zto_ssmx_bill_detail(bill_code)"

[stats]
# stats-file-path = "./stats.json"

[sys]
log-level = "info"

worker-count = 10
job-count = 10000000
# batch insert rows
batch = 1000

[db]
host = "127.0.0.1"
user = "root"
password = ""
name = "test"
port = 4000
